<?xml version="1.0" encoding="UTF-8"?>
<Patch>
  <Operation Class="XmlExtensions.FindMod">
    <mods>
      <li>xmb.breadmech</li>
    </mods>
    <packageId>True</packageId>
    <caseTrue>
      <Operation Class="XmlExtensions.OptionalPatch">
        <modId>Rhynia.Mod.Misc</modId>
        <key>Misc_BM_MechEnhance</key>
        <defaultValue>False</defaultValue>
        <caseTrue>
          <Operation Class="XmlExtensions.HybridPatch">
            <xpath>/Defs/ThingDef[defName = "BM_Croissant"]</xpath>
            <value>
              <statBases Operation="Safe">
                <MoveSpeed Operation="AddOrReplace">5.5</MoveSpeed>
              </statBases>
              <race Operation="Safe">
                <mechEnabledWorkTypes Operation="Safe">
                  <li Operation="SafeAdd" Compare="InnerText">BasicWorker</li>
                  <li Operation="SafeAdd" Compare="InnerText">Doctor</li>
                  <li Operation="SafeAdd" Compare="InnerText">Research</li>
                </mechEnabledWorkTypes>
              </race>
            </value>
          </Operation>
        </caseTrue>
      </Operation>
    </caseTrue>
  </Operation>
</Patch>