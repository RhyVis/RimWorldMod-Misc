<?xml version="1.0" encoding="UTF-8"?>
<Patch>
  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Rhynia.Mod.Misc</modId>
    <key>Biotech_FabricorWorkTypeArt</key>
    <defaultValue>False</defaultValue>
    <caseTrue>
      <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName = "Mech_Fabricor"]/race/mechEnabledWorkTypes</xpath>
        <value>
          <li>Art</li>
        </value>
      </Operation>
    </caseTrue>
  </Operation>

  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Rhynia.Mod.Misc</modId>
    <key>Biotech_TweakMechWork</key>
    <defaultValue>False</defaultValue>
    <caseTrue>
      <Operation Class="XmlExtensions.CreateDocument">
        <docName>MechWorkList</docName>
        <xpath>Defs/ThingDef[race/mechEnabledWorkTypes]</xpath>
      </Operation>

      <Operation Class="XmlExtensions.UseSetting">
        <modId>Rhynia.Mod.Misc</modId>
        <key>Biotech_TweakMechWork_Speed</key>
        <defaultValue>1.0</defaultValue>
        <apply>
          <Operation Class="XmlExtensions.PatchOperationAddOrReplace">
            <xmlDoc>MechWorkList</xmlDoc>
            <xpath>MechWorkList/ThingDef/statBases</xpath>
            <value>
              <WorkSpeedGlobal>{Biotech_TweakMechWork_Speed}</WorkSpeedGlobal>
            </value>
          </Operation>
        </apply>
      </Operation>

      <Operation Class="XmlExtensions.UseSetting">
        <modId>Rhynia.Mod.Misc</modId>
        <key>Biotech_TweakMechWork_Skill</key>
        <defaultValue>10</defaultValue>
        <apply>
          <Operation Class="XmlExtensions.PatchOperationAddOrReplace">
            <xmlDoc>MechWorkList</xmlDoc>
            <xpath>MechWorkList/ThingDef/race</xpath>
            <value>
              <mechFixedSkillLevel>{Biotech_TweakMechWork_Skill}</mechFixedSkillLevel>
            </value>
          </Operation>
        </apply>
      </Operation>

      <Operation Class="XmlExtensions.MergeDocument">
        <docName>MechWorkList</docName>
      </Operation>
    </caseTrue>
  </Operation>

  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Rhynia.Mod.Misc</modId>
    <key>Biotech_VatLearningPowerful</key>
    <defaultValue>False</defaultValue>
    <caseTrue>
      <Operation Class="PatchOperationReplace">
        <xpath>Defs/HediffDef[defName = "VatLearning"]/comps/li[@Class = "HediffCompProperties_SeverityPerDay"]/severityPerDay</xpath>
        <value>
          <severityPerDay>60000</severityPerDay>
        </value>
      </Operation>
    </caseTrue>
  </Operation>
</Patch>